(globalThis.webpackChunk_9999=globalThis.webpackChunk_9999||[]).push([[783],{3023:function(t,e,n){!function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e){return t(e={exports:{}},e.exports),e.exports}var o=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.VerticalReverse="vertical-reverse",t.Horizontal="horizontal",t.HorizontalReverse="horizontal-reverse"}(e.Orientation||(e.Orientation={}))});i(o),o.Orientation;var s=r(function(t,e){function n(t,e){return"boolean"==typeof t?t:e}function i(t,e){return"number"==typeof t?t:e}function r(t,e){return Object.assign({},e.reduce((e,n)=>Object.assign({},e,{[n]:t[n]}),{}))}function s(t,e){console.log(JSON.stringify(t.map(t=>r(t,e)),null,2))}function a(t){return void 0===t}function c(t={}){return Object.keys(t).reduce((e,n)=>a(t[n])?e:Object.assign({},e,{[n]:t[n]}),{})}function l(t,e,n){const i=n.style.dot.size,r=t.template.arrow.size,o=i+t.template.arrow.offset,s=Math.PI/7,a=h(t,e,n),c=o*Math.cos(a),l=o*Math.sin(a),u=(o+r)*Math.cos(a-s),m=(o+r)*Math.sin(a-s),p=(o+r/2)*Math.cos(a),d=(o+r/2)*Math.sin(a),f=(o+r)*Math.cos(a+s),g=(o+r)*Math.sin(a+s);return`M${c},${l} L${u},${m} Q${p},${d} ${f},${g} L${f},${g}`}function h(t,e,n){const i=e.x-n.x,r=e.y-n.y,s=t.template.commit.spacing;let a,c;switch(t.orientation){case o.Orientation.Horizontal:a=r,c=-s;break;case o.Orientation.HorizontalReverse:a=r,c=s;break;case o.Orientation.VerticalReverse:a=-s,c=i;break;default:a=s,c=i}return t.isVertical?Math.abs(r)>s&&(c=0):Math.abs(i)>s&&(a=0),t.reverseArrow&&(a*=-1,c*=-1),Math.atan2(a,c)}Object.defineProperty(e,"__esModule",{value:!0}),e.booleanOptionOr=n,e.numberOptionOr=i,e.pick=r,e.debug=s,e.isUndefined=a,e.withoutUndefinedKeys=c,e.arrowSvgPath=l});i(s),s.booleanOptionOr,s.numberOptionOr,s.pick,s.debug,s.isUndefined,s.withoutUndefinedKeys,s.arrowSvgPath;var a=r(function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Bezier="bezier",t.Straight="straight"}(n||(n={})),e.MergeStyle=n,e.DEFAULT_FONT="normal 12pt Calibri";class i{constructor(t){t.branch=t.branch||{},t.branch.label=t.branch.label||{},t.arrow=t.arrow||{},t.commit=t.commit||{},t.commit.dot=t.commit.dot||{},t.commit.message=t.commit.message||{},this.colors=t.colors||["#000000"],this.branch={color:t.branch.color,lineWidth:t.branch.lineWidth||2,mergeStyle:t.branch.mergeStyle||n.Bezier,spacing:s.numberOptionOr(t.branch.spacing,20),label:{display:s.booleanOptionOr(t.branch.label.display,!0),color:t.branch.label.color||t.commit.color,strokeColor:t.branch.label.strokeColor||t.commit.color,bgColor:t.branch.label.bgColor||"white",font:t.branch.label.font||t.commit.message.font||e.DEFAULT_FONT,borderRadius:s.numberOptionOr(t.branch.label.borderRadius,10)}},this.arrow={size:t.arrow.size||null,color:t.arrow.color||null,offset:t.arrow.offset||2},this.commit={color:t.commit.color,spacing:s.numberOptionOr(t.commit.spacing,25),hasTooltipInCompactMode:s.booleanOptionOr(t.commit.hasTooltipInCompactMode,!0),dot:{color:t.commit.dot.color||t.commit.color,size:t.commit.dot.size||3,strokeWidth:s.numberOptionOr(t.commit.dot.strokeWidth,0),strokeColor:t.commit.dot.strokeColor,font:t.commit.dot.font||t.commit.message.font||"normal 10pt Calibri"},message:{display:s.booleanOptionOr(t.commit.message.display,!0),displayAuthor:s.booleanOptionOr(t.commit.message.displayAuthor,!0),displayHash:s.booleanOptionOr(t.commit.message.displayHash,!0),color:t.commit.message.color||t.commit.color,font:t.commit.message.font||e.DEFAULT_FONT}},this.tag=t.tag||{}}}e.Template=i;const r=new i({colors:["#6963FF","#47E8D4","#6BDB52","#E84BA5","#FFA657"],branch:{color:"#000000",lineWidth:4,spacing:50,mergeStyle:n.Straight},commit:{spacing:60,dot:{size:16,strokeColor:"#000000",strokeWidth:4},message:{color:"black"}},arrow:{size:16,offset:-1.5}});e.blackArrowTemplate=r;const o=new i({colors:["#979797","#008fb5","#f1c109"],branch:{lineWidth:10,spacing:50},commit:{spacing:80,dot:{size:14},message:{font:"normal 14pt Arial"}}});var a;function c(t,e){const n=l(t);return e.branch||(e.branch={}),e.commit||(e.commit={}),{colors:e.colors||n.colors,arrow:Object.assign({},n.arrow,e.arrow),branch:Object.assign({},n.branch,e.branch,{label:Object.assign({},n.branch.label,e.branch.label)}),commit:Object.assign({},n.commit,e.commit,{dot:Object.assign({},n.commit.dot,e.commit.dot),message:Object.assign({},n.commit.message,e.commit.message)}),tag:Object.assign({},n.tag,e.tag)}}function l(t){return t?"string"==typeof t?{[a.BlackArrow]:r,[a.Metro]:o}[t]:t:o}e.metroTemplate=o,function(t){t.Metro="metro",t.BlackArrow="blackarrow"}(a||(a={})),e.TemplateName=a,e.templateExtend=c,e.getTemplate=l});i(a),a.MergeStyle,a.DEFAULT_FONT,a.Template,a.blackArrowTemplate,a.metroTemplate,a.TemplateName,a.templateExtend,a.getTemplate;var c=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t,e,n,i){this.name=t,this.tagStyle=e,this.commitStyle=i,this.render=n}get style(){return{strokeColor:this.tagStyle.strokeColor||this.commitStyle.color,bgColor:this.tagStyle.bgColor||this.commitStyle.color,color:this.tagStyle.color||"white",font:this.tagStyle.font||this.commitStyle.message.font||a.DEFAULT_FONT,borderRadius:s.numberOptionOr(this.tagStyle.borderRadius,10),pointerWidth:s.numberOptionOr(this.tagStyle.pointerWidth,12)}}}e.Tag=n});i(c),c.Tag;var l=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=()=>(Math.random().toString(16).substring(3)+Math.random().toString(16).substring(3)+Math.random().toString(16).substring(3)+Math.random().toString(16).substring(3)).substring(0,40);class i{constructor(t){let e,i;this.refs=[],this.x=0,this.y=0;try{[,e,i]=t.author.match(/(.*) <(.*)>/)}catch(r){[e,i]=[t.author,""]}this.author={name:e,email:i,timestamp:Date.now()},this.committer={name:e,email:i,timestamp:Date.now()},this.subject=t.subject,this.body=t.body||"",this.hash=t.hash||n(),this.hashAbbrev=this.hash.substring(0,7),this.parents=t.parents?t.parents:[],this.parentsAbbrev=this.parents.map(t=>t.substring(0,7)),this.style=Object.assign({},t.style,{message:Object.assign({},t.style.message),dot:Object.assign({},t.style.dot)}),this.dotText=t.dotText,this.onClick=()=>t.onClick?t.onClick(this):void 0,this.onMessageClick=()=>t.onMessageClick?t.onMessageClick(this):void 0,this.onMouseOver=()=>t.onMouseOver?t.onMouseOver(this):void 0,this.onMouseOut=()=>t.onMouseOut?t.onMouseOut(this):void 0,this.renderDot=t.renderDot,this.renderMessage=t.renderMessage,this.renderTooltip=t.renderTooltip}get message(){let t="";return this.style.message.displayHash&&(t+=`${this.hashAbbrev} `),t+=this.subject,this.style.message.displayAuthor&&(t+=` - ${this.author.name} <${this.author.email}>`),t}get branchToDisplay(){return this.branches?this.branches[0]:""}setRefs(t){return this.refs=t.getNames(this.hash),this}setTags(t,e,n){return this.tags=t.getNames(this.hash).map(t=>new c.Tag(t,e(t),n(t),this.style)),this}setBranches(t){return this.branches=t,this}setPosition({x:t,y:e}){return this.x=t,this.y=e,this}withDefaultColor(t){const e=Object.assign({},this.style,{dot:Object.assign({},this.style.dot),message:Object.assign({},this.style.message)});e.color||(e.color=t),e.dot.color||(e.dot.color=t),e.message.color||(e.message.color=t);const n=this.cloneCommit();return n.style=e,n}cloneCommit(){const t=new i({author:`${this.author.name} <${this.author.email}>`,subject:this.subject,style:this.style,body:this.body,hash:this.hash,parents:this.parents,dotText:this.dotText,onClick:this.onClick,onMessageClick:this.onMessageClick,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,renderDot:this.renderDot,renderMessage:this.renderMessage,renderTooltip:this.renderTooltip});return t.refs=this.refs,t.branches=this.branches,t.tags=this.tags,t.x=this.x,t.y=this.y,t}}e.Commit=i});i(l),l.Commit;var h=r(function(t,n){var i=e&&e.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};Object.defineProperty(n,"__esModule",{value:!0});class r{constructor(t,e,n){this._branch=t,this.name=t.name,this._graph=e,this._onGraphUpdate=n}branch(t){if(this._branch.isDeleted()&&!this._isReferenced())throw new Error(`Cannot branch from the deleted branch "${this.name}"`);const e="string"==typeof t?{name:t}:t;return e.from=this,this._graph.createBranch(e).getUserApi()}commit(t){if(this._branch.isDeleted()&&!this._isReferenced())throw new Error(`Cannot commit on the deleted branch "${this.name}"`);return"string"==typeof t&&(t={subject:t}),t||(t={}),this._commitWithParents(t,[]),this._onGraphUpdate(),this}delete(){if(this._graph.refs.getCommit("HEAD")===this._graph.refs.getCommit(this.name))throw new Error(`Cannot delete the checked out branch "${this.name}"`);const t=function*(t,e){const n=(t,e)=>t.commits.find(({hash:t})=>t===e);let i=n(t,t.refs.getCommit(e.name));for(;i&&i.hash!==e.parentCommitHash;)yield i,i=n(t,i.parents[0])}(this._graph,this._branch);return[...t].forEach(t=>{t.refs=t.refs.filter(t=>t!==this.name)}),this._graph.refs.delete(this.name),this._graph.branches.delete(this.name),this._branch=u.createDeletedBranch(this._graph,this._branch.style,()=>{}),this._onGraphUpdate(),this}merge(...t){if(this._branch.isDeleted()&&!this._isReferenced())throw new Error(`Cannot merge to the deleted branch "${this.name}"`);let e=t[0];o(e)||(e={branch:t[0],fastForward:!1,commitOptions:{subject:t[1]}});const{branch:n,fastForward:i,commitOptions:r}=e,s="string"==typeof n?n:n.name,a=this._graph.refs.getCommit(s);if(!a)throw new Error(`The branch called "${s}" is unknown`);let c=!1;if(i){const t=this._graph.refs.getCommit(this._branch.name);t&&(c=this._areCommitsConnected(t,a))}return i&&c?this._fastForwardTo(a):this._commitWithParents(Object.assign({},r,{subject:r&&r.subject||`Merge branch ${s}`}),[a]),this._onGraphUpdate(),this}tag(t){if(this._branch.isDeleted()&&!this._isReferenced())throw new Error(`Cannot tag on the deleted branch "${this.name}"`);return"string"==typeof t?this._graph.getUserApi().tag({name:t,ref:this._branch.name}):this._graph.getUserApi().tag(Object.assign({},t,{ref:this._branch.name})),this}checkout(){if(this._branch.isDeleted()&&!this._isReferenced())throw new Error(`Cannot checkout the deleted branch "${this.name}"`);const t=this._branch,e=this._graph.refs.getCommit(t.name);return this._graph.currentBranch=t,e&&this._graph.refs.set("HEAD",e),this}_commitWithParents(t,e){const n=this._graph.refs.getCommit(this._branch.name);n?e.unshift(n):this._branch.parentCommitHash&&e.unshift(this._branch.parentCommitHash);const{tag:r}=t,o=i(t,["tag"]),s=new l.Commit(Object.assign({hash:this._graph.generateCommitHash(),author:this._branch.commitDefaultOptions.author||this._graph.author,subject:this._branch.commitDefaultOptions.subject||this._graph.commitMessage},o,{parents:e,style:this._getCommitStyle(t.style)}));n?this._graph.refs.getNames(n).forEach(t=>this._graph.refs.set(t,s.hash)):this._graph.refs.set(this._branch.name,s.hash),this._graph.commits.push(s),this.checkout(),r&&this.tag(r)}_areCommitsConnected(t,e){const n=this._graph.commits.find(({hash:t})=>e===t);return!!n&&(!(0===n.parents.length)&&(!!n.parents.includes(t)||n.parents.some(e=>this._areCommitsConnected(t,e))))}_fastForwardTo(t){this._graph.refs.set(this._branch.name,t)}_getCommitStyle(t={}){return Object.assign({},s.withoutUndefinedKeys(this._graph.template.commit),s.withoutUndefinedKeys(this._branch.commitDefaultOptions.style),t,{message:Object.assign({},s.withoutUndefinedKeys(this._graph.template.commit.message),s.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.message),t.message,s.withoutUndefinedKeys({display:this._graph.shouldDisplayCommitMessage&&void 0})),dot:Object.assign({},s.withoutUndefinedKeys(this._graph.template.commit.dot),s.withoutUndefinedKeys(this._branch.commitDefaultOptions.style.dot),t.dot)})}_isReferenced(){return this._graph.branches.has(this.name)||this._graph.refs.hasName(this.name)||this._graph.commits.reduce((t,{refs:e})=>[...t,...e],[]).includes(this.name)}}function o(t){return"object"==typeof t&&!(t instanceof r)}n.BranchUserApi=r});i(h),h.BranchUserApi;var u=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n="";e.DELETED_BRANCH_NAME=n;class i{constructor(t){this.gitgraph=t.gitgraph,this.name=t.name,this.style=t.style,this.parentCommitHash=t.parentCommitHash,this.commitDefaultOptions=t.commitDefaultOptions||{style:{}},this.onGraphUpdate=t.onGraphUpdate,this.renderLabel=t.renderLabel}getUserApi(){return new h.BranchUserApi(this,this.gitgraph,this.onGraphUpdate)}isDeleted(){return this.name===n}}function r(t,e,r){return new i({name:n,gitgraph:t,style:e,onGraphUpdate:r})}e.Branch=i,e.createDeletedBranch=r});i(u),u.DELETED_BRANCH_NAME,u.Branch,u.createDeletedBranch;var m=r(function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Compact="compact"}(n||(n={})),e.Mode=n});i(m),m.Mode;var p=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t){this.rows=new Map,this.maxRowCache=void 0,this.computeRowsFromCommits(t)}getRowOf(t){return this.rows.get(t)||0}getMaxRow(){return void 0===this.maxRowCache&&(this.maxRowCache=i(Array.from(this.rows.values())).length-1),this.maxRowCache}computeRowsFromCommits(t){t.forEach((t,e)=>{this.rows.set(t.hash,e)}),this.maxRowCache=void 0}}function i(t){const e=new Set;return t.forEach(t=>e.add(t)),Array.from(e)}e.RegularGraphRows=n});i(p),p.RegularGraphRows;var d=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class n extends p.RegularGraphRows{computeRowsFromCommits(t){t.forEach((e,n)=>{let i=n;if(0!==n){const r=this.getRowOf(e.parents[0]),o=t[n-1];i=Math.max(r+1,this.getRowOf(o.hash)),e.parents.length>1&&r<this.getRowOf(e.parents[1])&&i++}this.rows.set(e.hash,i)})}}e.CompactGraphRows=n});i(d),d.CompactGraphRows;var f=r(function(t,e){function n(t,e){return t===m.Mode.Compact?new d.CompactGraphRows(e):new p.RegularGraphRows(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GraphRows=p.RegularGraphRows,e.createGraphRows=n});i(f),f.GraphRows,f.createGraphRows;var g=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t,e,n){this.branches=new Set,this.colors=e,t.forEach(t=>this.branches.add(t.branchToDisplay)),n&&(this.branches=new Set(Array.from(this.branches).sort(n)))}get(t){return Array.from(this.branches).findIndex(e=>e===t)}getColorOf(t){return this.colors[this.get(t)%this.colors.length]}}e.BranchesOrder=n});i(g),g.BranchesOrder;var b=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(){this.commitPerName=new Map,this.namesPerCommit=new Map}set(t,e){const n=this.commitPerName.get(t);return n&&this.removeNameFrom(n,t),this.addNameTo(e,t),this.addCommitTo(t,e),this}delete(t){return this.hasName(t)&&(this.removeNameFrom(this.getCommit(t),t),this.commitPerName.delete(t)),this}getCommit(t){return this.commitPerName.get(t)}getNames(t){return this.namesPerCommit.get(t)||[]}getAllNames(){return Array.from(this.commitPerName.keys())}hasCommit(t){return this.namesPerCommit.has(t)}hasName(t){return this.commitPerName.has(t)}removeNameFrom(t,e){const n=this.namesPerCommit.get(t)||[];this.namesPerCommit.set(t,n.filter(t=>t!==e))}addNameTo(t,e){const n=this.namesPerCommit.get(t)||[];this.namesPerCommit.set(t,[...n,e])}addCommitTo(t,e){this.commitPerName.set(t,e)}}e.Refs=n});i(b),b.Refs;var v=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t,e,n,i,r,o){this.branchesPaths=new Map,this.commits=t,this.branches=e,this.commitSpacing=n,this.isGraphVertical=i,this.isGraphReverse=r,this.createDeletedBranch=o}execute(){return this.fromCommits(),this.withMergeCommits(),this.smoothBranchesPaths()}fromCommits(){this.commits.forEach(t=>{let e=this.branches.get(t.branchToDisplay);e||(e=this.getDeletedBranchInPath()||this.createDeletedBranch());const n=[],i=this.branchesPaths.get(e),r=this.commits.find(({hash:e})=>e===t.parents[0]);i?n.push(...i):r&&n.push({x:r.x,y:r.y}),n.push({x:t.x,y:t.y}),this.branchesPaths.set(e,n)})}withMergeCommits(){this.commits.filter(({parents:t})=>t.length>1).forEach(t=>{const e=this.commits.find(({hash:e})=>e===t.parents[1]);if(!e)return;const n=e.branches?e.branches[0]:"";let i=this.branches.get(n);if(!i&&(i=this.getDeletedBranchInPath(),!i))return;const r=[...this.branchesPaths.get(i)||[]];this.branchesPaths.set(i,[...r,{x:t.x,y:t.y,mergeCommit:!0}])})}getDeletedBranchInPath(){return Array.from(this.branchesPaths.keys()).find(t=>t.isDeleted())}smoothBranchesPaths(){const t=new Map;return this.branchesPaths.forEach((e,n)=>{if(e.length<=1)return void t.set(n,[e]);e=this.isGraphVertical?e.sort((t,e)=>t.y>e.y?-1:1):e.sort((t,e)=>t.x>e.x?1:-1),this.isGraphReverse&&(e=e.reverse());const i=e.reduce((t,n,i)=>{if(n.mergeCommit){t[t.length-1].push(s.pick(n,["x","y"]));let r=i-1,o=e[r];for(;r>=0&&o.mergeCommit;)r--,o=e[r];r>=0&&t.push([o])}else t[t.length-1].push(n);return t},[[]]);this.isGraphReverse&&i.forEach(t=>t.reverse()),this.isGraphVertical?i.forEach(e=>{if(e.length<=1)return;const i=e[0],r=e[e.length-1],o=e[1].x,s=Math.round(Math.abs(i.y-r.y)/this.commitSpacing)-1,a=s>0?new Array(s).fill(0).map((t,n)=>({x:o,y:e[0].y-this.commitSpacing*(n+1)})):[],c=t.get(n)||[];t.set(n,[...c,[i,...a,r]])}):i.forEach(e=>{if(e.length<=1)return;const i=e[0],r=e[e.length-1],o=e[1].y,s=Math.round(Math.abs(i.x-r.x)/this.commitSpacing)-1,a=s>0?new Array(s).fill(0).map((t,n)=>({y:o,x:e[0].x+this.commitSpacing*(n+1)})):[],c=t.get(n)||[];t.set(n,[...c,[i,...a,r]])})}),t}}function i(t,e,n){return t.map(t=>"M"+t.map(({x:t,y:i},r,o)=>{if(e&&o.length>1&&(1===r||r===o.length-1)){const e=o[r-1];if(n){const n=(e.y+i)/2;return`C ${e.x} ${n} ${t} ${n} ${t} ${i}`}{const n=(e.x+t)/2;return`C ${n} ${e.y} ${n} ${i} ${t} ${i}`}}return`L ${t} ${i}`}).join(" ").slice(1)).join(" ")}e.BranchesPathsCalculator=n,e.toSvgPath=i});i(v),v.BranchesPathsCalculator,v.toSvgPath;var y=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t,e){this._graph=t,this._onGraphUpdate=e}clear(){return this._graph.refs=new b.Refs,this._graph.tags=new b.Refs,this._graph.commits=[],this._graph.branches=new Map,this._graph.currentBranch=this._graph.createBranch("master"),this._onGraphUpdate(),this}commit(t){return this._graph.currentBranch.getUserApi().commit(t),this}branch(t){return this._graph.createBranch(t).getUserApi()}tag(...t){let e,n,i,r,o;if("string"==typeof t[0]?(e=t[0],n=t[1]):(e=t[0].name,n=t[0].ref,i=t[0].style,r=t[0].render),!n){const t=this._graph.refs.getCommit("HEAD");if(!t)return this;n=t}if(this._graph.refs.hasCommit(n)&&(o=n),this._graph.refs.hasName(n)&&(o=this._graph.refs.getCommit(n)),!o)throw new Error(`The ref "${n}" does not exist`);return this._graph.tags.set(e,o),this._graph.tagStyles[e]=i,this._graph.tagRenders[e]=r,this._onGraphUpdate(),this}import(t){const e=new Error("Only `git2json` format is supported for imported data.");if(!Array.isArray(t))throw e;if(!t.every(t=>"object"==typeof t&&"object"==typeof t.author&&Array.isArray(t.refs)))throw e;const n=t.map(t=>Object.assign({},t,{style:Object.assign({},this._graph.template.commit,{message:Object.assign({},this._graph.template.commit.message,{display:this._graph.shouldDisplayCommitMessage})}),author:`${t.author.name} <${t.author.email}>`})).reverse();this.clear(),this._graph.commits=n.map(t=>new l.Commit(t)),n.forEach(({refs:t,hash:e})=>{if(!t)return;if(!e)return;const n="tag: ",i=t.map(t=>t.split(n)).map(([t,e])=>e).filter(t=>"string"==typeof t);i.forEach(t=>this._graph.tags.set(t,e)),t.filter(t=>!t.startsWith(n)).forEach(t=>this._graph.refs.set(t,e))});const i=this._getBranches();return this._graph.commits.map(t=>this._withBranches(i,t)).reduce((t,e)=>e.branches?(e.branches.forEach(e=>t.add(e)),t):t,new Set).forEach(t=>this.branch(t)),this._onGraphUpdate(),this}_withBranches(t,e){let n=Array.from((t.get(e.hash)||new Set).values());return 0===n.length&&(n=[u.DELETED_BRANCH_NAME]),e.setBranches(n)}_getBranches(){const t=new Map,e=[];return this._graph.refs.getAllNames().filter(t=>"HEAD"!==t).forEach(n=>{const i=this._graph.refs.getCommit(n);for(i&&e.push(i);e.length>0;){const i=e.pop(),r=this._graph.commits.find(({hash:t})=>t===i),o=t.get(i)||new Set;o.add(n),t.set(i,o),r&&r.parents&&r.parents.length>0&&e.push(r.parents[0])}}),t}}e.GitgraphUserApi=n});i(y),y.GitgraphUserApi;var w=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t={}){this.refs=new b.Refs,this.tags=new b.Refs,this.tagStyles={},this.tagRenders={},this.commits=[],this.branches=new Map,this.listeners=[],this.nextTimeoutId=null,this.template=a.getTemplate(t.template),this.currentBranch=this.createBranch("master"),this.orientation=t.orientation,this.reverseArrow=s.booleanOptionOr(t.reverseArrow,!1),this.initCommitOffsetX=s.numberOptionOr(t.initCommitOffsetX,0),this.initCommitOffsetY=s.numberOptionOr(t.initCommitOffsetY,0),this.mode=t.mode,this.author=t.author||"Sergio Flores <saxo-guy@epic.com>",this.commitMessage=t.commitMessage||"He doesn't like George Michael! Boooo!",this.generateCommitHash="function"==typeof t.generateCommitHash?t.generateCommitHash:()=>{},this.branchesOrderFunction="function"==typeof t.compareBranchesOrder?t.compareBranchesOrder:void 0,this.branchLabelOnEveryCommit=s.booleanOptionOr(t.branchLabelOnEveryCommit,!1)}get isHorizontal(){return this.orientation===o.Orientation.Horizontal||this.orientation===o.Orientation.HorizontalReverse}get isVertical(){return!this.isHorizontal}get isReverse(){return this.orientation===o.Orientation.HorizontalReverse||this.orientation===o.Orientation.VerticalReverse}get shouldDisplayCommitMessage(){return!this.isHorizontal&&this.mode!==m.Mode.Compact}getUserApi(){return new y.GitgraphUserApi(this,()=>this.next())}subscribe(t){this.listeners.push(t);let e=!0;return()=>{if(!e)return;e=!1;const n=this.listeners.indexOf(t);this.listeners.splice(n,1)}}getRenderedData(){const t=this.computeRenderedCommits(),e=this.computeRenderedBranchesPaths(t),n=this.computeCommitMessagesX(e);return this.computeBranchesColor(t,e),{commits:t,branchesPaths:e,commitMessagesX:n}}createBranch(t){const e="HEAD";let n={gitgraph:this,name:"",parentCommitHash:this.refs.getCommit(e),style:this.template.branch,onGraphUpdate:()=>this.next()};if("string"==typeof t)n.name=t,n.parentCommitHash=this.refs.getCommit(e);else{const i=t.from?t.from.name:e,r=this.refs.getCommit(i)||(this.refs.hasCommit(t.from)?t.from:void 0);t.style=t.style||{},n=Object.assign({},n,t,{parentCommitHash:r,style:Object.assign({},n.style,t.style,{label:Object.assign({},n.style.label,t.style.label)})})}const i=new u.Branch(n);return this.branches.set(i.name,i),i}computeRenderedCommits(){const t=this.getBranches(),e=(()=>{const e=new Set(this.commits.reduce((e,{hash:n})=>t.has(n)?e:[...e,n],[])),n=this.commits.reduce((t,e)=>e.parents.length>1?[...t,...e.parents.slice(1).map(t=>this.commits.find(({hash:e})=>t===e))]:t,[]),i=new Set;return n.forEach(t=>{let n=t;for(;n&&e.has(n.hash);)i.add(n.hash),n=n.parents.length>0?this.commits.find(({hash:t})=>n.parents[0]===t):void 0}),i})(),n=this.commits.filter(({hash:n})=>t.has(n)||e.has(n)),i=n.map(e=>this.withBranches(t,e)),r=f.createGraphRows(this.mode,n),o=new g.BranchesOrder(i,this.template.colors,this.branchesOrderFunction);return i.map(t=>t.setRefs(this.refs)).map(t=>this.withPosition(r,o,t)).map(t=>t.withDefaultColor(this.getBranchDefaultColor(o,t.branchToDisplay))).map(t=>t.setTags(this.tags,t=>Object.assign({},this.tagStyles[t],this.template.tag),t=>this.tagRenders[t]))}computeRenderedBranchesPaths(t){return new v.BranchesPathsCalculator(t,this.branches,this.template.commit.spacing,this.isVertical,this.isReverse,()=>u.createDeletedBranch(this,this.template.branch,()=>this.next())).execute()}computeBranchesColor(t,e){const n=new g.BranchesOrder(t,this.template.colors,this.branchesOrderFunction);Array.from(e).forEach(([t])=>{t.computedColor=t.style.color||this.getBranchDefaultColor(n,t.name)})}computeCommitMessagesX(t){return Array.from(t).length*this.template.branch.spacing}withBranches(t,e){let n=Array.from((t.get(e.hash)||new Set).values());return 0===n.length&&(n=[u.DELETED_BRANCH_NAME]),e.setBranches(n)}getBranches(){const t=new Map,e=[];return this.refs.getAllNames().filter(t=>"HEAD"!==t).forEach(n=>{const i=this.refs.getCommit(n);for(i&&e.push(i);e.length>0;){const i=e.pop(),r=this.commits.find(({hash:t})=>t===i),o=t.get(i)||new Set;o.add(n),t.set(i,o),r&&r.parents&&r.parents.length>0&&e.push(r.parents[0])}}),t}withPosition(t,e,n){const i=t.getRowOf(n.hash),r=t.getMaxRow(),s=e.get(n.branchToDisplay);switch(this.orientation){default:return n.setPosition({x:this.initCommitOffsetX+this.template.branch.spacing*s,y:this.initCommitOffsetY+this.template.commit.spacing*(r-i)});case o.Orientation.VerticalReverse:return n.setPosition({x:this.initCommitOffsetX+this.template.branch.spacing*s,y:this.initCommitOffsetY+this.template.commit.spacing*i});case o.Orientation.Horizontal:return n.setPosition({x:this.initCommitOffsetX+this.template.commit.spacing*i,y:this.initCommitOffsetY+this.template.branch.spacing*s});case o.Orientation.HorizontalReverse:return n.setPosition({x:this.initCommitOffsetX+this.template.commit.spacing*(r-i),y:this.initCommitOffsetY+this.template.branch.spacing*s})}}getBranchDefaultColor(t,e){return t.getColorOf(e)}next(){this.nextTimeoutId&&window.clearTimeout(this.nextTimeoutId),this.nextTimeoutId=window.setTimeout(()=>{this.listeners.forEach(t=>t(this.getRenderedData()))},0)}}e.GitgraphCore=n});i(w),w.GitgraphCore;var C=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.GitgraphCore=w.GitgraphCore,e.Mode=m.Mode,e.GitgraphUserApi=y.GitgraphUserApi,e.BranchUserApi=h.BranchUserApi,e.Branch=u.Branch,e.Commit=l.Commit,e.Tag=c.Tag,e.Refs=b.Refs,e.MergeStyle=a.MergeStyle,e.TemplateName=a.TemplateName,e.templateExtend=a.templateExtend,e.Orientation=o.Orientation,e.toSvgPath=v.toSvgPath,e.arrowSvgPath=s.arrowSvgPath});i(C);var S=C.GitgraphCore,O=C.Mode,x=(C.GitgraphUserApi,C.BranchUserApi,C.Branch,C.Commit,C.Tag,C.Refs,C.MergeStyle),P=C.TemplateName,A=C.templateExtend,_=C.Orientation,T=C.toSvgPath,E=C.arrowSvgPath,M="http://www.w3.org/2000/svg";function k(t){var e=document.createElementNS(M,"svg");return t?(t.children&&t.children.forEach(function(t){return e.appendChild(t)}),t.viewBox&&e.setAttribute("viewBox",t.viewBox),t.height&&e.setAttribute("height",t.height.toString()),t.width&&e.setAttribute("width",t.width.toString()),e):e}function B(t){var e=document.createElementNS(M,"g");return t.children.forEach(function(t){return t&&e.appendChild(t)}),t.translate&&e.setAttribute("transform","translate("+t.translate.x+", "+t.translate.y+")"),t.fill&&e.setAttribute("fill",t.fill),t.stroke&&e.setAttribute("stroke",t.stroke),t.strokeWidth&&e.setAttribute("stroke-width",t.strokeWidth.toString()),t.onClick&&e.addEventListener("click",t.onClick),t.onMouseOver&&e.addEventListener("mouseover",t.onMouseOver),t.onMouseOut&&e.addEventListener("mouseout",t.onMouseOut),e}function N(t){var e=document.createElementNS(M,"text");return e.setAttribute("alignment-baseline","central"),e.setAttribute("dominant-baseline","central"),e.textContent=t.content,t.fill&&e.setAttribute("fill",t.fill),t.font&&e.setAttribute("style","font: "+t.font),t.anchor&&e.setAttribute("text-anchor",t.anchor),t.translate&&(e.setAttribute("x",t.translate.x.toString()),e.setAttribute("y",t.translate.y.toString())),t.onClick&&e.addEventListener("click",t.onClick),e}function R(t){var e=document.createElementNS(M,"circle");return e.setAttribute("cx",t.radius.toString()),e.setAttribute("cy",t.radius.toString()),e.setAttribute("r",t.radius.toString()),t.id&&e.setAttribute("id",t.id),t.fill&&e.setAttribute("fill",t.fill),e}function D(t){var e=document.createElementNS(M,"rect");return e.setAttribute("width",t.width.toString()),e.setAttribute("height",t.height.toString()),t.borderRadius&&e.setAttribute("rx",t.borderRadius.toString()),t.fill&&e.setAttribute("fill",t.fill||"none"),t.stroke&&e.setAttribute("stroke",t.stroke),e}function z(t){var e=document.createElementNS(M,"path");return e.setAttribute("d",t.d),t.fill&&e.setAttribute("fill",t.fill),t.stroke&&e.setAttribute("stroke",t.stroke),t.strokeWidth&&e.setAttribute("stroke-width",t.strokeWidth.toString()),t.translate&&e.setAttribute("transform","translate("+t.translate.x+", "+t.translate.y+")"),e}function Y(t){var e=document.createElementNS(M,"use");return e.setAttribute("href","#"+t),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+t),e}function j(){return document.createElementNS(M,"clipPath")}function X(t){var e=document.createElementNS(M,"defs");return t.forEach(function(t){return e.appendChild(t)}),e}function W(t){var e=document.createElementNS(M,"foreignObject");e.setAttribute("width",t.width.toString()),t.translate&&(e.setAttribute("x",t.translate.x.toString()),e.setAttribute("y",t.translate.y.toString()));var n=document.createElement("p");return n.textContent=t.content,e.appendChild(n),e}var H=10,L=5;function U(t,e){var n=D({width:0,height:0,borderRadius:t.style.label.borderRadius,stroke:t.style.label.strokeColor||e.style.color,fill:t.style.label.bgColor}),i=N({content:t.name,translate:{x:H,y:0},font:t.style.label.font,fill:t.style.label.color||e.style.color}),r=B({children:[n]});return new MutationObserver(function(){var t=i.getBBox(),e=t.height,r=t.width+2*H,o=e+2*L;n.setAttribute("width",r.toString()),n.setAttribute("height",o.toString()),i.setAttribute("y",(o/2).toString())}).observe(r,{attributes:!1,subtree:!1,childList:!0}),r.appendChild(i),r}var I=10,G=5;function $(t){var e=z({d:"",fill:t.style.bgColor,stroke:t.style.strokeColor}),n=N({content:t.name,fill:t.style.color,font:t.style.font,translate:{x:0,y:0}}),i=B({children:[e]}),r=t.style.pointerWidth;return new MutationObserver(function(){var i=n.getBBox(),o=i.height,s=i.width;if(0!==o&&0!==s){var a=t.style.borderRadius,c=r+s+2*I,l=o+2*G,h=["M 0,0","L "+r+","+l/2,"V "+l/2,"Q "+r+","+l/2+" "+(r+a)+","+l/2,"H "+(c-a),"Q "+c+","+l/2+" "+c+","+(l/2-a),"V -"+(l/2-a),"Q "+c+",-"+l/2+" "+(c-a)+",-"+l/2,"H "+(r+a),"Q "+r+",-"+l/2+" "+r+",-"+l/2,"V -"+l/2,"z"].join(" ");e.setAttribute("d",h.toString()),n.setAttribute("x",(r+I).toString())}}).observe(i,{attributes:!1,subtree:!1,childList:!0}),i.appendChild(n),i}var F=10,K=10;function V(t){var e=z({d:"",fill:"#EEE"}),n=N({translate:{x:K+F,y:0},content:t.hashAbbrev+" - "+t.subject,fill:"#333"}),i=2*t.style.dot.size,r=B({translate:{x:i,y:i/2},children:[e]});return new MutationObserver(function(){var t=n.getBBox().width,i=5,r=50,o=K+t+2*F,s=["M 0,0","L "+K+","+K,"V "+(r/2-i),"Q "+K+","+r/2+" "+(K+i)+","+r/2,"H "+(o-i),"Q "+o+","+r/2+" "+o+","+(r/2-i),"V -"+(r/2-i),"Q "+o+",-"+r/2+" "+(o-i)+",-"+r/2,"H "+(K+i),"Q "+K+",-"+r/2+" "+K+",-"+(r/2-i),"V -"+K,"z"].join(" ");e.setAttribute("d",s.toString())}).observe(r,{attributes:!1,subtree:!1,childList:!0}),r.appendChild(n),r}function Z(t,e){var n,i,r={},o={},s=!1,a=0,c=null,l=k();m(Boolean(e&&e.responsive)),t.appendChild(l),e&&e.responsive&&t.setAttribute("style","display:inline-block; position: relative; width:100%; padding-bottom:100%; vertical-align:middle; overflow:hidden;");var h=new S(e);return h.subscribe(function(t){s=!0,u(t)}),h.getUserApi();function u(t){r={};var e=t.commits,o=t.branchesPaths;a=t.commitMessagesX,n=t,i=f(e),l.innerHTML="",l.appendChild(B({translate:{x:H,y:F},children:[d(o),i]}))}function m(t){function e(){var t=Array.from(i.children),e=0,n=h.orientation===_.VerticalReverse?t:t.reverse();o=n.reduce(function(t,n){var i=parseInt(n.getAttribute("transform").split(",")[1].slice(0,-1),10),r=n.getElementsByTagName("foreignObject")[0],o=r&&r.firstElementChild;return t[i]=i+e,e+=Q(o),t},{})}function c(){if(!h.isHorizontal){var t=10;Object.keys(r).forEach(function(e){var n=r[e],i=n.branchLabel,o=n.tags,s=n.message,c=a;if(i){p(i,c);var l=i.getBBox().width+2*H;c+=l+t}o.forEach(function(e){p(e,c);var n=parseFloat(e.getAttribute("data-offset")||"0"),i=e.getBBox().width+2*I+n;c+=i+t}),s&&p(s,c)})}}function m(t){var e=l.getBBox(),n=e.height,i=e.width,r=50,o=20,s=h.isHorizontal?r:H+F,a=h.isHorizontal?r:L+F+o;t?(l.setAttribute("preserveAspectRatio","xMinYMin meet"),l.setAttribute("viewBox","0 0 "+(i+s)+" "+(n+a))):(l.setAttribute("width",(i+s).toString()),l.setAttribute("height",(n+a).toString()))}new MutationObserver(function(){s?(s=!1,e(),u(n)):(c(),m(t))}).observe(l,{attributes:!1,subtree:!0,childList:!0})}function p(t,e){var n=t.getAttribute("transform")||"translate(0, 0)";t.setAttribute("transform",n.replace(/translate\(([\d\.]+),/,"translate("+e+","))}function d(t){var e=h.template.commit.dot.size,n=h.template.branch.mergeStyle===x.Bezier,i=Array.from(t).map(function(t){var i=t[0],r=t[1];return z({d:T(r.map(function(t){return t.map(P)}),n,h.isVertical),fill:"none",stroke:i.computedColor||"",strokeWidth:i.style.lineWidth,translate:{x:e,y:e}})});return B({children:i})}function f(t){return B({children:t.map(e)});function e(t){var e=P(t),i=e.x;return B({translate:{x:i,y:e.y},children:[w(t)].concat(n(t),[B({translate:{x:-i,y:0},children:[g(t)].concat(v(t),y(t))})])})}function n(e){if(!h.template.arrow.size)return[null];var n=e.style.dot.size;return e.parents.map(function(i){var r=t.find(function(t){return t.hash===i});return r?B({translate:h.reverseArrow?{x:n+(r.x-e.x),y:n+(r.y-e.y)}:{x:n,y:n},children:[z({d:E(h,r,e),fill:h.template.arrow.color||""})]}):null})}}function g(t){if(!t.style.message.display)return null;var e;if(t.renderMessage)return b(e=B({children:[]})),e.appendChild(t.renderMessage(t)),M(t,e),e;var n=N({content:t.message,fill:t.style.message.color||"",font:t.style.message.font,onClick:t.onMessageClick});if(e=B({translate:{x:0,y:t.style.dot.size},children:[n]}),t.body){var i=W({width:600,translate:{x:10,y:0},content:t.body});b(e),e.appendChild(i)}return M(t,e),e}function b(t){function e(t){if("foreignObject"===t.nodeName){var n=t.firstChild&&t.firstChild.parentElement;if(!n)return;n.setAttribute("height",Q(n.firstElementChild).toString())}t.childNodes.forEach(e)}new MutationObserver(function(t){t.forEach(function(t){return e(t.target)})}).observe(t,{attributes:!1,subtree:!1,childList:!0})}function v(t){return Array.from(h.branches.values()).map(function(e){if(!e.style.label.display)return null;if(!h.branchLabelOnEveryCommit){var n=h.refs.getCommit(e.name);if(t.hash!==n)return null}if(t.branchToDisplay!==e.name)return null;var i,r=e.renderLabel?e.renderLabel(e):U(e,t);if(h.isVertical)i=B({children:[r]});else{var o=2*t.style.dot.size,s=10;i=B({translate:{x:t.x,y:o+s},children:[r]})}return A(t,i),i})}function y(t){return t.tags?h.isHorizontal?[]:t.tags.map(function(e){var n=e.render?e.render(e.name,e.style):$(e),i=B({translate:{x:0,y:t.style.dot.size},children:[n]});return i.setAttribute("data-offset",e.style.pointerWidth.toString()),D(t,i),i}):[]}function w(t){if(t.renderDot)return t.renderDot(t);var e=t.hash,n=R({id:e,radius:t.style.dot.size,fill:t.style.dot.color||""}),i="clip-"+t.hash,r=j();r.setAttribute("id",i),r.appendChild(Y(e));var o=Y(e);o.setAttribute("clip-path","url(#"+i+")"),o.setAttribute("stroke",t.style.dot.strokeColor||"");var s=t.style.dot.strokeWidth?2*t.style.dot.strokeWidth:0;o.setAttribute("stroke-width",s.toString());var a=t.dotText?N({content:t.dotText,font:t.style.dot.font,anchor:"middle",translate:{x:t.style.dot.size,y:t.style.dot.size}}):null;return B({onClick:t.onClick,onMouseOver:function(){C(t),t.onMouseOver()},onMouseOut:function(){c&&c.remove(),t.onMouseOut()},children:[X([n,r]),o,a]})}function C(t){if(l.firstChild&&(!h.isVertical||h.mode===O.Compact)&&(!h.isVertical||t.style.hasTooltipInCompactMode)){var e=t.renderTooltip?t.renderTooltip(t):V(t);c=B({translate:P(t),children:[e]}),l.firstChild.appendChild(c)}}function P(t){var e=t.x,n=t.y;return{x:e,y:o[n]||n}}function A(t,e){r[t.hashAbbrev]||G(t),r[t.hashAbbrev].branchLabel=e}function M(t,e){r[t.hashAbbrev]||G(t),r[t.hashAbbrev].message=e}function D(t,e){r[t.hashAbbrev]||G(t),r[t.hashAbbrev].tags.push(e)}function G(t){r[t.hashAbbrev]={branchLabel:null,tags:[],message:null}}}function Q(t){var e=0;if(t){var n=t.getBoundingClientRect().height,i=window.getComputedStyle(t).marginTop||"0px";e=n+parseInt(i.replace("px",""),10)}return e}t.MergeStyle=x,t.Mode=O,t.Orientation=_,t.TemplateName=P,t.createGitgraph=Z,t.templateExtend=A,Object.defineProperty(t,"__esModule",{value:!0})}(e)},3217:(t,e,n)=>{"use strict";n.d(e,{GT:()=>mt,WZ:()=>ft});var i=n(6540),r=function(t,e){return Number(t.toFixed(e))},o=function(t,e,n){n&&"function"==typeof n&&n(t,e)},s={easeOut:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},a=function(t){"number"==typeof t&&cancelAnimationFrame(t)},c=function(t){t.mounted&&(a(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function l(t,e,n,i){if(t.mounted){var r=(new Date).getTime();c(t),t.animation=function(){if(!t.mounted)return a(t.animation);var o=(new Date).getTime()-r,c=(0,s[e])(o/n);o>=n?(i(1),t.animation=null):t.animation&&(i(c),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function h(t,e,n,i){var r=function(t){var e=t.scale,n=t.positionX,i=t.positionY;return!(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(i))}(e);if(t.mounted&&r){var o=t.setTransformState,s=t.transformState,a=s.scale,c=s.positionX,h=s.positionY,u=e.scale-a,m=e.positionX-c,p=e.positionY-h;0===n?o(e.scale,e.positionX,e.positionY):l(t,i,n,function(t){o(a+u*t,c+m*t,h+p*t)})}}var u=function(t,e){var n=t.wrapperComponent,i=t.contentComponent,r=t.setup.centerZoomedOut;if(!n||!i)throw new Error("Components are not mounted");var o=function(t,e,n){var i=t.offsetWidth,r=t.offsetHeight,o=e.offsetWidth*n,s=e.offsetHeight*n;return{wrapperWidth:i,wrapperHeight:r,newContentWidth:o,newDiffWidth:i-o,newContentHeight:s,newDiffHeight:r-s}}(n,i,e),s=o.wrapperWidth,a=o.wrapperHeight,c=function(t,e,n,i,r,o,s){var a=t>e?n*(s?1:.5):0,c=i>r?o*(s?1:.5):0;return{minPositionX:t-e-a,maxPositionX:a,minPositionY:i-r-c,maxPositionY:c}}(s,o.newContentWidth,o.newDiffWidth,a,o.newContentHeight,o.newDiffHeight,Boolean(r));return c},m=function(t,e,n,i){return r(i?t<e?e:t>n?n:t:t,2)},p=function(t,e){var n=u(t,e);return t.bounds=n,n};function d(t,e,n,i,r,o,s){var a=n.minPositionX,c=n.minPositionY,l=n.maxPositionX,h=n.maxPositionY,u=0,p=0;return s&&(u=r,p=o),{x:m(t,a-u,l+u,i),y:m(e,c-p,h+p,i)}}function f(t,e,n,i,r,o){var s=t.transformState,a=s.scale,c=s.positionX,l=s.positionY,h=i-a;return"number"!=typeof e||"number"!=typeof n?(console.error("Mouse X and Y position were not provided!"),{x:c,y:l}):d(c-e*h,l-n*h,r,o,0,0,null)}function g(t,e,n,i,r){var o=e-(r?i:0);return!Number.isNaN(n)&&t>=n?n:!Number.isNaN(e)&&t<=o?o:t}var b=function(t,e){var n=t.setup.panning.excluded,i=t.isInitialized,r=t.wrapperComponent,o=e.target,s="shadowRoot"in o&&"composedPath"in e?e.composedPath().some(function(t){return t instanceof Element&&(null==r?void 0:r.contains(t))}):null==r?void 0:r.contains(o);return!!(i&&o&&s)&&!J(o,n)},v=function(t){var e=t.isInitialized,n=t.isPanning,i=t.setup.panning.disabled;return!(!e||!n||i)};function y(t,e,n,i,r){var o=t.setup.limitToBounds,s=t.wrapperComponent,a=t.bounds,c=t.transformState,l=c.scale,h=c.positionX,u=c.positionY;if(null!==s&&null!==a&&(e!==h||n!==u)){var m=d(e,n,a,o,i,r,s),p=m.x,f=m.y;t.setTransformState(l,p,f)}}var w=function(t,e){var n=t.setup,i=t.transformState.scale,r=n.minScale,o=n.disablePadding;return e>0&&i>=r&&!o?e:0};function C(t,e,n,i,r,o,s,a,c,l){if(r){var h;if(e>s&&n>s)return(h=s+(t-s)*l)>c?c:h<s?s:h;if(e<o&&n<o)return(h=o+(t-o)*l)<a?a:h>o?o:h}return i?e:m(t,o,s,r)}function S(t,e){var n=function(t){var e=t.mounted,n=t.setup,i=n.disabled,r=n.velocityAnimation,o=t.transformState.scale;return!(r.disabled&&!(o>1)&&i&&!e)}(t);if(n){var i=t.lastMousePosition,r=t.velocityTime,o=t.setup,s=t.wrapperComponent,a=o.velocityAnimation.equalToMove,c=Date.now();if(i&&r&&s){var l=function(t,e){return e?Math.min(1,t.offsetWidth/window.innerWidth):1}(s,a),h=e.x-i.x,u=e.y-i.y,m=h/l,p=u/l,d=c-r,f=h*h+u*u,g=Math.sqrt(f)/d;t.velocity={velocityX:m,velocityY:p,total:g}}t.lastMousePosition=e,t.velocityTime=c}}function O(t,e){var n=t.transformState.scale;c(t),p(t,n),void 0!==window.TouchEvent&&e instanceof TouchEvent?function(t,e){var n=e.touches,i=t.transformState,r=i.positionX,o=i.positionY;if(t.isPanning=!0,1===n.length){var s=n[0].clientX,a=n[0].clientY;t.startCoords={x:s-r,y:a-o}}}(t,e):function(t,e){var n=t.transformState,i=n.positionX,r=n.positionY;t.isPanning=!0;var o=e.clientX,s=e.clientY;t.startCoords={x:o-i,y:s-r}}(t,e)}function x(t,e){var n=t.transformState.scale,i=t.setup,r=i.minScale,o=i.alignmentAnimation,s=o.disabled,a=o.sizeX,c=o.sizeY,l=o.animationTime,u=o.animationType;if(!(s||n<r||!a&&!c)){var m=function(t){var e=t.transformState,n=e.positionX,i=e.positionY,r=e.scale,o=t.setup,s=o.disabled,a=o.limitToBounds,c=o.centerZoomedOut,l=t.wrapperComponent;if(!s&&l&&t.bounds){var h=t.bounds,u=h.maxPositionX,m=h.minPositionX,p=h.maxPositionY,d=h.minPositionY,g=n>u||n<m,b=i>p||i<d,v=f(t,n>u?l.offsetWidth:t.setup.minPositionX||0,i>p?l.offsetHeight:t.setup.minPositionY||0,r,t.bounds,a||c),y=v.x,w=v.y;return{scale:r,positionX:g?y:n,positionY:b?w:i}}}(t);m&&h(t,m,null!=e?e:l,u)}}function P(t,e,n){var i=t.startCoords,r=t.setup.alignmentAnimation,o=r.sizeX,s=r.sizeY;if(i){var a=function(t,e,n){var i=t.startCoords,r=t.transformState,o=t.setup.panning,s=o.lockAxisX,a=o.lockAxisY,c=r.positionX,l=r.positionY;if(!i)return{x:c,y:l};var h=e-i.x,u=n-i.y;return{x:s?c:h,y:a?l:u}}(t,e,n),c=a.x,l=a.y,h=w(t,o),u=w(t,s);S(t,{x:c,y:l}),y(t,c,l,h,u)}}function A(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,i=t.wrapperComponent,r=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var o=null==i?void 0:i.getBoundingClientRect(),a=null==r?void 0:r.getBoundingClientRect(),c=(null==o?void 0:o.width)||0,h=(null==o?void 0:o.height)||0,u=(null==a?void 0:a.width)||0,m=(null==a?void 0:a.height)||0,p=c<u||h<m;!e&&n&&(null==n?void 0:n.total)>.1&&p?function(t){var e=t.velocity,n=t.bounds,i=t.setup,r=t.wrapperComponent,o=function(t){var e=t.mounted,n=t.velocity,i=t.bounds,r=t.setup,o=r.disabled,s=r.velocityAnimation,a=t.transformState.scale;return!(s.disabled&&!(a>1)&&o&&!e||!n||!i)}(t);if(o&&e&&n&&r){var a=e.velocityX,c=e.velocityY,h=e.total,u=n.maxPositionX,m=n.minPositionX,p=n.maxPositionY,d=n.minPositionY,f=i.limitToBounds,g=i.alignmentAnimation,b=i.zoomAnimation,v=i.panning,y=v.lockAxisY,S=v.lockAxisX,O=b.animationType,x=g.sizeX,P=g.sizeY,A=g.velocityAlignmentTime,_=function(t,e){var n=t.setup.velocityAnimation,i=n.equalToMove,r=n.animationTime,o=n.sensitivity;return i?r*e*o:r}(t,h),T=Math.max(_,A),E=w(t,x),M=w(t,P),k=E*r.offsetWidth/100,B=M*r.offsetHeight/100,N=u+k,R=m-k,D=p+B,z=d-B,Y=t.transformState,j=(new Date).getTime();l(t,O,T,function(e){var n=t.transformState,i=n.scale,r=n.positionX,o=n.positionY,l=((new Date).getTime()-j)/A,h=1-(0,s[g.animationType])(Math.min(1,l)),b=1-e,v=r+a*b,w=o+c*b,O=C(v,Y.positionX,r,S,f,m,u,R,N,h),x=C(w,Y.positionY,o,y,f,d,p,z,D,h);r===v&&o===w||t.setTransformState(i,O,x)})}}(t):x(t)}}function _(t,e,n,i){var o=t.setup,s=o.minScale,a=o.maxScale,c=o.limitToBounds,l=g(r(e,2),s,a,0,!1),h=f(t,n,i,l,p(t,l),c);return{scale:l,positionX:h.x,positionY:h.y}}function T(t,e,n){var i=t.transformState.scale,r=t.wrapperComponent,o=t.setup,s=o.minScale,a=o.limitToBounds,c=o.zoomAnimation,l=c.disabled,u=c.animationTime,m=c.animationType,p=l||i>=s;if((i>=1||a)&&x(t),!p&&r&&t.mounted){var d=_(t,s,e||r.offsetWidth/2,n||r.offsetHeight/2);d&&h(t,d,u,m)}}var E=function(){return E=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},E.apply(this,arguments)};function M(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var k=1,B=0,N=0,R={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},D="react-transform-wrapper",z="react-transform-component",Y=function(t){var e,n,i,r;return{previousScale:null!==(e=t.initialScale)&&void 0!==e?e:k,scale:null!==(n=t.initialScale)&&void 0!==n?n:k,positionX:null!==(i=t.initialPositionX)&&void 0!==i?i:B,positionY:null!==(r=t.initialPositionY)&&void 0!==r?r:N}},j=function(t){var e=E({},R);return Object.keys(t).forEach(function(n){var i=void 0!==t[n];if(void 0!==R[n]&&i){var r=Object.prototype.toString.call(R[n]),o="[object Object]"===r,s="[object Array]"===r;e[n]=o?E(E({},R[n]),t[n]):s?M(M([],R[n],!0),t[n],!0):t[n]}}),e},X=function(t,e,n){var i=t.transformState.scale,o=t.wrapperComponent,s=t.setup,a=s.maxScale,c=s.minScale,l=s.zoomAnimation,h=s.smooth,u=l.size;if(!o)throw new Error("Wrapper is not mounted");var m=h?i*Math.exp(e*n):i+e*n;return g(r(m,3),c,a,u,!1)};function W(t,e,n,i,r){var o=t.wrapperComponent,s=t.transformState,a=s.scale,c=s.positionX,l=s.positionY;if(!o)return console.error("No WrapperComponent found");var u=(o.offsetWidth/2-c)/a,m=(o.offsetHeight/2-l)/a,p=_(t,X(t,e,n),u,m);if(!p)return console.error("Error during zoom event. New transformation state was not calculated.");h(t,p,i,r)}function H(t,e,n,i){var r=t.setup,o=t.wrapperComponent,s=r.limitToBounds,a=Y(t.props),c=t.transformState,l=c.scale,m=c.positionX,p=c.positionY;if(o){var f=u(t,a.scale),g=d(a.positionX,a.positionY,f,s,0,0,o),b={scale:a.scale,positionX:g.x,positionY:g.y};l===a.scale&&m===a.positionX&&p===a.positionY||(null==i||i(),h(t,b,e,n))}}var L=function(t){return function(e,n,i){void 0===e&&(e=.5),void 0===n&&(n=300),void 0===i&&(i="easeOut"),W(t,1,e,n,i)}},U=function(t){return function(e,n,i){void 0===e&&(e=.5),void 0===n&&(n=300),void 0===i&&(i="easeOut"),W(t,-1,e,n,i)}},I=function(t){return function(e,n,i,r,o){void 0===r&&(r=300),void 0===o&&(o="easeOut");var s=t.transformState,a=s.positionX,c=s.positionY,l=s.scale,u=t.wrapperComponent,m=t.contentComponent;if(!t.setup.disabled&&u&&m){var p={positionX:Number.isNaN(e)?a:e,positionY:Number.isNaN(n)?c:n,scale:Number.isNaN(i)?l:i};h(t,p,r,o)}}},G=function(t){return function(e,n){void 0===e&&(e=200),void 0===n&&(n="easeOut"),H(t,e,n)}},$=function(t){return function(e,n,i){void 0===n&&(n=200),void 0===i&&(i="easeOut");var r=t.transformState,o=t.wrapperComponent,s=t.contentComponent;if(o&&s){var a=et(e||r.scale,o,s);h(t,a,n,i)}}},F=function(t){return function(e,n,i,r){void 0===i&&(i=600),void 0===r&&(r="easeOut"),c(t);var o=t.wrapperComponent,s="string"==typeof e?document.getElementById(e):e;if(o&&s&&o.contains(s)){var a=function(t,e,n){var i=t.wrapperComponent,r=t.contentComponent,o=t.transformState,s=t.setup,a=s.limitToBounds,c=s.minScale,l=s.maxScale;if(!i||!r)return o;var h,m,p,f,b,v,y,w,C=i.getBoundingClientRect(),S=e.getBoundingClientRect(),O=(h=i,m=r,p=o,f=e.getBoundingClientRect(),b=h.getBoundingClientRect(),v=m.getBoundingClientRect(),y=b.x*p.scale,w=b.y*p.scale,{x:(f.x-v.x+y)/p.scale,y:(f.y-v.y+w)/p.scale}),x=O.x,P=O.y,A=S.width/o.scale,_=S.height/o.scale,T=i.offsetWidth/A,E=i.offsetHeight/_,M=g(n||Math.min(T,E),c,l,0,!1),k=(C.width-A*M)/2,B=(C.height-_*M)/2,N=d((C.left-x)*M+k,(C.top-P)*M+B,u(t,M),a,0,0,i);return{positionX:N.x,positionY:N.y,scale:M}}(t,s,n);h(t,a,i,r)}}},K=function(t){return{instance:t,zoomIn:L(t),zoomOut:U(t),setTransform:I(t),resetTransform:G(t),centerView:$(t),zoomToElement:F(t)}},V=function(t){return{instance:t,state:t.transformState}},Z=function(t){var e={};return Object.assign(e,V(t)),Object.assign(e,K(t)),e};function Q(){try{return{get passive(){return!1}}}catch(t){return!1}}var q=".".concat(D),J=function(t,e){return e.some(function(e){return t.matches("".concat(q," ").concat(e,", ").concat(q," .").concat(e,", ").concat(q," ").concat(e," *, ").concat(q," .").concat(e," *"))})},tt=function(t){t&&clearTimeout(t)},et=function(t,e,n){var i=n.offsetWidth*t,r=n.offsetHeight*t;return{scale:t,positionX:(e.offsetWidth-i)/2,positionY:(e.offsetHeight-r)/2}};function nt(t,e,n){var i=e.getBoundingClientRect(),r=0,o=0;if("clientX"in t)r=(t.clientX-i.left)/n,o=(t.clientY-i.top)/n;else{var s=t.touches[0];r=(s.clientX-i.left)/n,o=(s.clientY-i.top)/n}return(Number.isNaN(r)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:r,y:o}}var it=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},rt=function(t,e){var n=t.props,i=n.onWheel,s=n.onZoom,a=t.contentComponent,c=t.setup,l=t.transformState.scale,h=c.limitToBounds,u=c.centerZoomedOut,m=c.zoomAnimation,d=c.wheel,b=c.disablePadding,v=c.smooth,y=m.size,w=m.disabled,C=d.step,S=d.smoothStep;if(!a)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var O=function(t,e){var n,i,r=function(t){return t?t.deltaY<0?1:-1:0}(t);return i=r,"number"==typeof(n=e)?n:i}(e,null),x=function(t,e,n,i,o){var s=t.transformState.scale,a=t.wrapperComponent,c=t.setup,l=c.maxScale,h=c.minScale,u=c.zoomAnimation,m=c.disablePadding,p=u.size,d=u.disabled;if(!a)throw new Error("Wrapper is not mounted");var f=s+e*n;if(o)return f;var b=!i&&!d;return g(r(f,3),h,l,p,b&&!m)}(t,O,v?S*Math.abs(e.deltaY):C,!e.ctrlKey);if(l!==x){var P=p(t,x),A=nt(e,a,l),_=h&&(w||0===y||u||b),T=f(t,A.x,A.y,x,P,_),E=T.x,M=T.y;t.previousWheelEvent=e,t.setTransformState(x,E,M),o(Z(t),e,i),o(Z(t),e,s)}},ot=function(t,e){var n=t.props,i=n.onWheelStop,r=n.onZoomStop;tt(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(T(t,e.x,e.y),t.wheelAnimationTimer=null)},100);var s=function(t,e){var n=t.previousWheelEvent,i=t.transformState.scale,r=t.setup,o=r.maxScale,s=r.minScale;return!!n&&(i<o||i>s||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY))}(t,e);s&&(tt(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,o(Z(t),e,i),o(Z(t),e,r))},160))},st=function(t){for(var e=0,n=0,i=0;i<2;i+=1)e+=t.touches[i].clientX,n+=t.touches[i].clientY;return{x:e/2,y:n/2}},at=function(t,e){var n=t.contentComponent,i=t.pinchStartDistance,o=t.wrapperComponent,s=t.transformState.scale,a=t.setup,c=a.limitToBounds,l=a.centerZoomedOut,h=a.zoomAnimation,u=a.alignmentAnimation,m=h.disabled,b=h.size;if(null!==i&&n){var v=function(t,e,n){var i=n.getBoundingClientRect(),o=t.touches,s=r(o[0].clientX-i.left,5),a=r(o[0].clientY-i.top,5);return{x:(s+r(o[1].clientX-i.left,5))/2/e,y:(a+r(o[1].clientY-i.top,5))/2/e}}(e,s,n);if(Number.isFinite(v.x)&&Number.isFinite(v.y)){var y=it(e),C=function(t,e){var n=t.pinchStartScale,i=t.pinchStartDistance,o=t.setup,s=o.maxScale,a=o.minScale,c=o.zoomAnimation,l=o.disablePadding,h=c.size,u=c.disabled;if(!n||null===i||!e)throw new Error("Pinch touches distance was not provided");return e<0?t.transformState.scale:g(r(e/i*n,2),a,s,h,!u&&!l)}(t,y),S=st(e),O=S.x-(t.pinchLastCenterX||0),x=S.y-(t.pinchLastCenterY||0);if(C!==s||0!==O||0!==x){t.pinchLastCenterX=S.x,t.pinchLastCenterY=S.y;var P=p(t,C),A=c&&(m||0===b||l),_=f(t,v.x,v.y,C,P,A),T=_.x,E=_.y;t.pinchMidpoint=v,t.lastDistance=y;var M=u.sizeX,k=u.sizeY,B=d(T+O,E+x,P,c,w(t,M),w(t,k),o),N=B.x,R=B.y;t.setTransformState(C,N,R)}}}},ct=function(t,e){var n=t.props.onZoomStop,i=t.setup.doubleClick.animationTime;tt(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,o(Z(t),e,n)},i)};function lt(t,e){var n=t.setup,i=t.doubleClickStopEventTimer,r=t.transformState,s=t.contentComponent,a=r.scale,c=t.props,l=c.onZoomStart,u=c.onZoom,m=n.doubleClick,p=m.disabled,d=m.mode,f=m.step,g=m.animationTime,b=m.animationType;if(!p&&!i){if("reset"===d)return function(t,e){var n=t.props,i=n.onZoomStart,r=n.onZoom,s=t.setup.doubleClick,a=s.animationTime,c=s.animationType;o(Z(t),e,i),H(t,a,c,function(){return o(Z(t),e,r)}),ct(t,e)}(t,e);if(!s)return console.error("No ContentComponent found");var v=function(t,e){return"toggle"===t?1===e?1:-1:"zoomOut"===t?-1:1}(d,t.transformState.scale),y=X(t,v,f);if(a!==y){o(Z(t),e,l);var w=nt(e,s,a),C=_(t,y,w.x,w.y);if(!C)return console.error("Error during zoom event. New transformation state was not calculated.");o(Z(t),e,u),h(t,C,g,b),ct(t,e)}}}var ht=function(t){var e=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){e.initializeWindowEvents()},this.unmount=function(){e.cleanupWindowEvents()},this.update=function(t){e.props=t,p(e,e.transformState.scale),e.setup=j(t)},this.initializeWindowEvents=function(){var t,n,i=Q(),r=null===(t=e.wrapperComponent)||void 0===t?void 0:t.ownerDocument,o=null==r?void 0:r.defaultView;null===(n=e.wrapperComponent)||void 0===n||n.addEventListener("wheel",e.onWheelPanning,i),null==o||o.addEventListener("mousedown",e.onPanningStart,i),null==o||o.addEventListener("mousemove",e.onPanning,i),null==o||o.addEventListener("mouseup",e.onPanningStop,i),null==r||r.addEventListener("mouseleave",e.clearPanning,i),null==o||o.addEventListener("keyup",e.setKeyUnPressed,i),null==o||o.addEventListener("keydown",e.setKeyPressed,i)},this.cleanupWindowEvents=function(){var t,n,i=Q(),r=null===(t=e.wrapperComponent)||void 0===t?void 0:t.ownerDocument,o=null==r?void 0:r.defaultView;null==o||o.removeEventListener("mousedown",e.onPanningStart,i),null==o||o.removeEventListener("mousemove",e.onPanning,i),null==o||o.removeEventListener("mouseup",e.onPanningStop,i),null==r||r.removeEventListener("mouseleave",e.clearPanning,i),null==o||o.removeEventListener("keyup",e.setKeyUnPressed,i),null==o||o.removeEventListener("keydown",e.setKeyPressed,i),document.removeEventListener("mouseleave",e.clearPanning,i),c(e),null===(n=e.observer)||void 0===n||n.disconnect()},this.handleInitializeWrapperEvents=function(t){var n=Q();t.addEventListener("wheel",e.onWheelZoom,n),t.addEventListener("dblclick",e.onDoubleClick,n),t.addEventListener("touchstart",e.onTouchPanningStart,n),t.addEventListener("touchmove",e.onTouchPanning,n),t.addEventListener("touchend",e.onTouchPanningStop,n)},this.handleInitialize=function(t,n){var i=!1,r=e.setup.centerOnInit,o=function(t,e){for(var n=0,i=t;n<i.length;n++)if(i[n].target===e)return!0;return!1};e.applyTransformation(),e.onInitCallbacks.forEach(function(t){t(Z(e))}),e.observer=new ResizeObserver(function(s){if(o(s,t)||o(s,n))if(r&&!i){var a=n.offsetWidth,l=n.offsetHeight;(a>0||l>0)&&(i=!0,e.setCenter())}else c(e),p(e,e.transformState.scale),x(e,0)}),e.observer.observe(t),e.observer.observe(n)},this.onWheelZoom=function(t){if(!e.setup.disabled){var n=function(t,e){var n=t.setup.wheel,i=n.disabled,r=n.wheelDisabled,o=n.touchPadDisabled,s=n.excluded,a=t.isInitialized,c=t.isPanning,l=e.target;return!(!a||c||i||!l||r&&!e.ctrlKey||o&&e.ctrlKey||J(l,s))}(e,t);n&&e.isPressingKeys(e.setup.wheel.activationKeys)&&(function(t,e){var n=t.props,i=n.onWheelStart,r=n.onZoomStart;t.wheelStopEventTimer||(c(t),o(Z(t),e,i),o(Z(t),e,r))}(e,t),rt(e,t),ot(e,t))}},this.onWheelPanning=function(t){var n=e.setup,i=n.disabled,r=n.wheel,o=n.panning;if(e.wrapperComponent&&e.contentComponent&&!i&&r.wheelDisabled&&!o.disabled&&o.wheelPanning&&!t.ctrlKey){t.preventDefault(),t.stopPropagation();var s=e.transformState,a=s.positionX,c=s.positionY,l=a-t.deltaX,h=c-t.deltaY,u=o.lockAxisX?a:l,m=o.lockAxisY?c:h,p=e.setup.alignmentAnimation,d=p.sizeX,f=p.sizeY,g=w(e,d),b=w(e,f);u===a&&m===c||y(e,u,m,g,b)}},this.onPanningStart=function(t){var n=e.setup.disabled,i=e.props.onPanningStart;n||b(e,t)&&e.isPressingKeys(e.setup.panning.activationKeys)&&(0!==t.button||e.setup.panning.allowLeftClickPan)&&(1!==t.button||e.setup.panning.allowMiddleClickPan)&&(2!==t.button||e.setup.panning.allowRightClickPan)&&(t.preventDefault(),t.stopPropagation(),c(e),O(e,t),o(Z(e),t,i))},this.onPanning=function(t){var n=e.setup.disabled,i=e.props.onPanning;n||v(e)&&e.isPressingKeys(e.setup.panning.activationKeys)&&(t.preventDefault(),t.stopPropagation(),P(e,t.clientX,t.clientY),o(Z(e),t,i))},this.onPanningStop=function(t){var n=e.props.onPanningStop;e.isPanning&&(A(e),o(Z(e),t,n))},this.onPinchStart=function(t){var n=e.setup.disabled,i=e.props,r=i.onPinchingStart,s=i.onZoomStart;if(!n){var a=function(t,e){var n=t.setup.pinch,i=n.disabled,r=n.excluded,o=t.isInitialized,s=e.target;return!(!o||i||!s||J(s,r))}(e,t);a&&(function(t,e){var n=it(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var i=st(e);t.pinchLastCenterX=i.x,t.pinchLastCenterY=i.y,c(t)}(e,t),c(e),o(Z(e),t,r),o(Z(e),t,s))}},this.onPinch=function(t){var n=e.setup.disabled,i=e.props,r=i.onPinching,s=i.onZoom;if(!n){var a=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,i=t.pinchStartDistance;return!(!n||e||!i)}(e);a&&(t.preventDefault(),t.stopPropagation(),at(e,t),o(Z(e),t,r),o(Z(e),t,s))}},this.onPinchStop=function(t){var n,i,r=e.props,s=r.onPinchingStop,a=r.onZoomStop;e.pinchStartScale&&(i=(n=e).pinchMidpoint,n.velocity=null,n.lastDistance=null,n.pinchMidpoint=null,n.pinchStartScale=null,n.pinchStartDistance=null,T(n,null==i?void 0:i.x,null==i?void 0:i.y),o(Z(e),t,s),o(Z(e),t,a))},this.onTouchPanningStart=function(t){var n=e.setup.disabled,i=e.props.onPanningStart;if(!n&&b(e,t)&&!(e.lastTouch&&+new Date-e.lastTouch<200&&1===t.touches.length)){e.lastTouch=+new Date,c(e);var r=t.touches,s=1===r.length,a=2===r.length;s&&(c(e),O(e,t),o(Z(e),t,i)),a&&e.onPinchStart(t)}},this.onTouchPanning=function(t){var n=e.setup.disabled,i=e.props.onPanning;if(e.isPanning&&1===t.touches.length){if(n)return;if(!v(e))return;t.preventDefault(),t.stopPropagation();var r=t.touches[0];P(e,r.clientX,r.clientY),o(Z(e),t,i)}else t.touches.length>1&&e.onPinch(t)},this.onTouchPanningStop=function(t){e.onPanningStop(t),e.onPinchStop(t)},this.onDoubleClick=function(t){if(!e.setup.disabled){var n=function(t,e){var n=t.isInitialized,i=t.setup,r=t.wrapperComponent,o=i.doubleClick,s=o.disabled,a=o.excluded,c=e.target,l=null==r?void 0:r.contains(c);return!(!(n&&c&&l)||s||J(c,a))}(e,t);n&&lt(e,t)}},this.clearPanning=function(t){e.isPanning&&e.onPanningStop(t)},this.setKeyPressed=function(t){e.pressedKeys[t.key]=!0},this.setKeyUnPressed=function(t){e.pressedKeys[t.key]=!1},this.isPressingKeys=function(t){return!t.length||Boolean(t.find(function(t){return e.pressedKeys[t]}))},this.setTransformState=function(t,n,i){var r=e.props.onTransformed;if(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(i))console.error("Detected NaN set state values");else{t!==e.transformState.scale&&(e.transformState.previousScale=e.transformState.scale,e.transformState.scale=t),e.transformState.positionX=n,e.transformState.positionY=i,e.applyTransformation();var s=Z(e);e.onChangeCallbacks.forEach(function(t){return t(s)}),o(s,{scale:t,positionX:n,positionY:i},r)}},this.setCenter=function(){if(e.wrapperComponent&&e.contentComponent){var t=et(e.transformState.scale,e.wrapperComponent,e.contentComponent);e.setTransformState(t.scale,t.positionX,t.positionY)}},this.handleTransformStyles=function(t,n,i){return e.props.customTransform?e.props.customTransform(t,n,i):function(t,e,n){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(n,")")}(t,n,i)},this.applyTransformation=function(){if(e.mounted&&e.contentComponent){var t=e.transformState,n=t.scale,i=t.positionX,r=t.positionY,o=e.handleTransformStyles(i,r,n);e.contentComponent.style.transform=o}},this.getContext=function(){return Z(e)},this.onChange=function(t){return e.onChangeCallbacks.has(t)||e.onChangeCallbacks.add(t),function(){e.onChangeCallbacks.delete(t)}},this.onInit=function(t){return e.onInitCallbacks.has(t)||e.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},this.init=function(t,n){e.cleanupWindowEvents(),e.wrapperComponent=t,e.contentComponent=n,p(e,e.transformState.scale),e.handleInitializeWrapperEvents(t),e.handleInitialize(t,n),e.initializeWindowEvents(),e.isInitialized=!0;var i=Z(e);o(i,void 0,e.props.onInit)},this.props=t,this.setup=j(this.props),this.transformState=Y(this.props)},ut=i.createContext(null),mt=i.forwardRef(function(t,e){var n,r,o=(0,i.useRef)(new ht(t)).current,s=(n=t.children,r=K(o),"function"==typeof n?n(r):n);return(0,i.useImperativeHandle)(e,function(){return K(o)},[o]),(0,i.useEffect)(function(){o.update(t)},[o,t]),i.createElement(ut.Provider,{value:o},s)});i.forwardRef(function(t,e){var n,r=(0,i.useRef)(null),o=(0,i.useContext)(ut);return(0,i.useEffect)(function(){return o.onChange(function(t){if(r.current){r.current.style.transform=o.handleTransformStyles(0,0,1/t.instance.transformState.scale)}})},[o]),i.createElement("div",E({},t,{ref:(n=[r,e],function(t){n.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)})})}))});var pt="transform-component-module_wrapper__SPB86",dt="transform-component-module_content__FBWxo";!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n  transform: translate3d(0, 0, 0);\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var ft=function(t){var e=t.children,n=t.wrapperClass,r=void 0===n?"":n,o=t.contentClass,s=void 0===o?"":o,a=t.wrapperStyle,c=t.contentStyle,l=t.wrapperProps,h=void 0===l?{}:l,u=t.contentProps,m=void 0===u?{}:u,p=(0,i.useContext)(ut),d=p.init,f=p.cleanupWindowEvents,g=(0,i.useRef)(null),b=(0,i.useRef)(null);return(0,i.useEffect)(function(){var t=g.current,e=b.current;return null!==t&&null!==e&&d&&(null==d||d(t,e)),function(){null==f||f()}},[]),i.createElement("div",E({},h,{ref:g,className:"".concat(D," ").concat(pt," ").concat(r),style:a}),i.createElement("div",E({},m,{ref:b,className:"".concat(z," ").concat(dt," ").concat(s),style:c}),e))}},8453:(t,e,n)=>{"use strict";n.d(e,{R:()=>s,x:()=>a});var i=n(6540);const r={},o=i.createContext(r);function s(t){const e=i.useContext(o);return i.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:s(t.components),i.createElement(o.Provider,{value:e},t.children)}}}]);